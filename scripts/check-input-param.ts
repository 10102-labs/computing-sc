import { ethers } from "ethers";
import abi from "../artifacts/contracts/forwarding/TransferLegacyContract.sol/TransferLegacy.json"; // ABI as JSON array

// Example raw tx input data (starts with function selector)
const rawData = "0x3479af3c00000000000000000000000000000000000000000000000000000000000000010000000000000000000000004cd446bb9b34c7faacea47aa42e67dfcbeda741800000000000000000000000000000000000000000000000000000000000001a000000000000000000000000000000000000000000000000000000000000005a000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004044bab9d6abcf3984d24b51efb8512548c315bb000000000000000000000000124bce47a4e87d4a18ba0bb0c253d9799d978f940000000000000000000000000000000000000000000000000000000000000001000000000000000000000000723661972e5a4234be14efc2050e00725e374d1d0000000000000000000000000000000000000000000000000000000000000064";

// 1. Create an Interface instance
const iface = new ethers.utils.Interface(abi.abi);

// 2. Parse the transaction data
const parsed = iface.parseTransaction({ data: rawData });

console.log("Function name:", parsed.name);
console.log("Function signature:", parsed.signature);
console.log("Arguments:", parsed.args);